# ACRONIS KIWI AUTOMATION FRAMEWORK

1. Project Structure
2. Setup
3. Run + result
4. Docker

<details>
  <summary>Project Structure</summary>

  The following project have the next structure detailed as:
  - `assets` -> folder generated by pytest-html for the css of the html report after a run
  - `features` -> folder where gherkin like tests are present
  - `pages` -> a folder where UI pages from the website are present. In theory each screen must have it's own package that will include a .py for locators used in the page, and a .py for methods that are used in tests steps to interact in the page needed. 
  - `reports` -> the last .html report after running tests
  - `steps` -> tests itself, that are linked to a specific gherkin file and call ui methods to complete the tests steps
  - `tests` -> it's a place where gherkin files are linked to tests steps from `steps` folder
  - `utils` -> general methods that are helpers for different things in the app, which include now a class that handle screenshots that are needed in the .html reports
  - `conftest.py` -> pytest file that handle settings of the whole framework which include now browser behaviour, or shared methods passed on steps methods for test like a global dictionary of shared variable, html report builder or screenshot method
  - `Dockerfile` -> config needed to create Docker images to run tests in CI/CD environments or other environs
  - `pytest.ini` -> general settings behaviour generated by pytest
  - `requirements.txt` -> python packages needed for the whole project
  - `setup.sh` -> prepare the local environ for running of test from cmd line
</details>

<details>
  <summary>Details</summary>

  After cloning the project on a local machine, in order to setup the whole dependencies, you need to:
  - `chmod +x ./setup.sh` -> in order to give permission to the bash script to run
  - `./setup.sh` -> it install everything needed
</details>

<details>
  <summary>Run + result</summary>

  When everything is set up, what you must do is:
  - `chmod +x ./run_tests.sh` -> in order to give permission to the bash script to run
  - `./run_tests.sh` -> to run the tests
  - in the reports folder, you can open the html result, to see the result of the last run 
  - script can be enhanced with parameters read from console line for specific run (like with different flags, or test plans)
</details>

<details>
  <summary>Docker</summary>

  This guide will assume that Docker is present on your machine. Once Docker is installed on your machine, run from the cmd line placed inside of the root project (cd ~/Desktop/Acronis in this case):
  - `docker build -t kiwi-tests .` -> to create the docker image
  - `docker run kiwi-tests` -> to run the tests from the container
  - Test reports are not available if run on a no-gui environ. Enhacment: include an artifact server to store the html results
</details>
